/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={517:e=>{e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},993:(e,t,n)=>{"use strict";var a=n(517);e.exports=c;var r=l("in",document.body);function o(e,t){var n=a(getComputedStyle(e).getPropertyValue(t));return n[0]*c(n[1],e)}function l(e,t){var n=document.createElement("div");n.style.height="128"+e,t.appendChild(n);var a=o(n,"height")/128;return t.removeChild(n),a}function c(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return l(e,t);case"em":return o(t,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6;case"px":return 1}var n=a(e);if(!isNaN(n[0])&&n[1]){var i=c(n[1],t);return"number"==typeof i?n[0]*i:null}return null}},500:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{metadata:()=>I,name:()=>T,settings:()=>O});var t={};n.r(t),n.d(t,{metadata:()=>D,name:()=>$,settings:()=>q});var a={};n.r(a),n.d(a,{metadata:()=>G,name:()=>J,settings:()=>j});var r={};n.r(r),n.d(r,{metadata:()=>Q,name:()=>Y,settings:()=>X});var o={};n.r(o),n.d(o,{metadata:()=>ne,name:()=>ae,settings:()=>re});var l={};n.r(l),n.d(l,{metadata:()=>ce,name:()=>ie,settings:()=>se});var c={};n.r(c),n.d(c,{metadata:()=>ue,name:()=>ge,settings:()=>_e});var i={};n.r(i),n.d(i,{metadata:()=>xe,name:()=>Ie,settings:()=>Te});var s={};n.r(s),n.d(s,{metadata:()=>He,name:()=>Ne,settings:()=>Re});const d=window.wp.blocks,m=window.React,u=window.wp.i18n,g=window.wp.primitives,_=(0,m.createElement)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(g.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),p=window.wp.blockEditor,h=window.wp.element,v=window.wp.data,w=window.wcim.store;var b=n(500),E=n.n(b),C=n(993),k=n.n(C);const y=[["wc-invoice-manager/invoice-data"],["wc-invoice-manager/order-billing-data"],["wc-invoice-manager/order-shipping-data"],["wc-invoice-manager/order-items"],["wc-invoice-manager/order-totals"]];function f(e){const{attributes:t,clientId:n,isSelected:a}=e,r=(0,h.useRef)(null),o=(0,h.useRef)(null),l=function(e){let t=0,n=0,a=e.pages||1;switch(e.size){case"a4":default:t=595.28,n=841.89;break;case"letter":t=612,n=792;break;case"legal":t=612,n=1008}return"landscape"===e.orientation&&([t,n]=[n,t]),{"--page--width":`${t}pt`,"--page--height":`${n}pt`,"--page--min-height":n*a+"pt"}}(t),c=(0,p.useBlockProps)({ref:r,style:l}),{innerBlocksCount:i}=(0,v.useSelect)((e=>{const{getBlockCount:t,getBlockRootClientId:a,isBlockSelected:r}=e(p.store),o=a(n);return{innerBlocksCount:t(n),isParentBlockSelected:r(o)}}),[n]);(0,h.useEffect)((()=>{const e=()=>{if(r.current&&o.current){const e=k()(l["--page--height"]),t=o.current.clientHeight,n=Math.ceil(t/e);r.current.style.setProperty("--pages",n)}};return setTimeout(e,500),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i,t,r,o]);const s=(0,p.useInnerBlocksProps)({ref:o},{templateLock:!1,template:y,renderAppender:(a||!i)&&p.InnerBlocks.ButtonBlockAppender});return(0,m.createElement)("div",{...c},(0,m.createElement)("div",{...s}))}const B=window.wp.components,x=(window.wp.editor,window.wp.coreData,{currency:[{label:"Symbol",value:"symbol"},{label:"Currency",value:"currency"}]}),S={size:[{label:(0,u.__)("A4","wp-invoice-manager"),value:"a4"},{label:(0,u.__)("Letter","wp-invoice-manager"),value:"letter"},{label:(0,u.__)("Legal","wp-invoice-manager"),value:"legal"}],orientation:[{label:(0,u.__)("Portrait","wp-invoice-manager"),value:"portrait"},{label:(0,u.__)("Landscape","wp-invoice-manager"),value:"landscape"}]};function P({attributes:e,setAttributes:t}){return(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Paper","wc-invoice-manager")},(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Paper Size","wp-invoice-manager"),value:e.size,onChange:e=>t({size:e}),options:S.size}),(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Paper Orientation","wp-invoice-manager"),value:e.orientation,onChange:e=>t({orientation:e}),options:S.orientation}),(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Order Currency","wp-invoice-manager"),value:e.currency,onChange:e=>t({currency:e}),options:x.currency})))}const I=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/invoice"}'),{name:T}=I,O={name:"wc-invoice-manager/invoice",version:"0.1.0",title:(0,u.__)("Invoice","wc-invoice-manager"),category:"design",icon:_,description:(0,u.__)("Block to show invoice items.","wc-invoice-manager"),textdomain:"wc-invoice-manager",edit:function(e){const{order:t}=(0,w.useSelectedOrder)(),[n,a]=(0,h.useState)((()=>(0,v.select)("core/block-editor").getBlocks()));return(0,h.useEffect)((()=>{const e=(0,v.subscribe)((()=>{const e=(0,v.select)("core/block-editor").getBlocks();e.length<n.length&&n.some((e=>"wc-invoice-manager/invoice"===e.name))&&e.every((e=>"wc-invoice-manager/invoice"!==e.name))&&(0,v.dispatch)("core/block-editor").resetBlocks(n),a(e)}));return()=>e()}),[n]),t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(P,{...e}),(0,m.createElement)(f,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)},A=window.wp.date;function V(e){if(p.useSettings){const[t,n]=(0,p.useSettings)(e);return t}return(0,p.useSetting)(e)}function H(e={}){const t=(e,t,n)=>{n.width&&(e[t+"Width"]=n.width),n.color&&(e[t+"Color"]=n.color),n.style&&(e[t+"Style"]=n.style)},n={};return"top"in e||"right"in e||"bottom"in e||"left"in e?(e.top&&t(n,"borderTop",e.top),e.right&&t(n,"borderRight",e.right),e.bottom&&t(n,"borderBottom",e.bottom),e.left&&t(n,"borderLeft",e.left)):t(n,"border",e),n}function N(e={}){return{paddingTop:e?.top,paddingRight:e?.right,paddingBottom:e?.bottom,paddingLeft:e?.left}}function R(e){const t=e&&-1!==e.id;return(0,u.sprintf)("#%s - %s",t?e.id:"0",t?e.billing.first_name||e.billing.last_name||e.billing.company||(0,u.__)("No name","wc-invoice-manager"):(0,u.__)("Placeholder","wc-invoice-manager"))}function F(e="$",t,n=2){return t?`${e} ${parseFloat(t).toFixed(n)}`:`${e} 0.00`}const M="Y-m-d H:i:s";function z({order:e,attributes:t,className:n}){const a=(0,p.useBlockProps)({className:n,style:{textAlign:t.align}}),r=wcim_gutenberg.settings.number_prefix,o=wcim_gutenberg.settings.number_suffix,{header:l,header_background:c,header_color:i,header_border:s,header_padding:d,date:g,number:_,order_number:h,order_date:v,cell_border:w,cell_padding:b}=t,E=N(d),C=H(s),k=N(b),y=H(w);return(0,m.createElement)("table",{...a},!!l&&(0,m.createElement)("thead",{style:{color:i,backgroundColor:c}},(0,m.createElement)("th",{style:{...C,...E}},(0,u.__)("Invoice","wc-invoice-manager"))),_&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...y,...k}},(0,m.createElement)("b",null,(0,u.__)("Number:","wc-invoice-manager"))," ",`${r}1${o}`)),g&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...y,...k}},(0,m.createElement)("b",null,(0,u.__)("Date:","wc-invoice-manager"))," ",(0,A.gmdateI18n)(M,"2023-12-06T13:21:12"))),h&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...y,...k}},(0,m.createElement)("b",null,(0,u.__)("Order Number:","wc-invoice-manager"))," ",e?.id)),v&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...y,...k}},(0,m.createElement)("b",null,(0,u.__)("Order Date:","wc-invoice-manager"))," ",(0,A.gmdateI18n)(M,e?.date_created))))}function L({attributes:e,setAttributes:t}){const n=V("color.palette.theme");return(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Elements","wc-invoice-manager")},(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show header","wc-invoice-manager"),checked:!!e.header,onChange:e=>t({header:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show invoice date","wc-invoice-manager"),checked:!!e.date,onChange:e=>t({date:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show invoice number","wc-invoice-manager"),checked:!!e.number,onChange:e=>t({number:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show order number","wc-invoice-manager"),checked:!!e.order_number,onChange:e=>t({order_number:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show order date","wc-invoice-manager"),checked:!!e.order_date,onChange:e=>t({order_date:e})})),!!e.header&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Header","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Header Padding","wp-invoice-manager"),values:e.header_padding,onChange:e=>t({header_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:n,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Header Border","wc-invoice-manager"),onChange:e=>{t({header_border:e})},value:e.header_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_background",label:(0,u.__)("Header background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:n,value:e.header_background,onChange:e=>t({header_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_color",label:(0,u.__)("Header Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:n,value:e.header_color,onChange:e=>t({header_color:e})})))),(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Cells","wc-invoice-manager")},(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Cell Padding","wp-invoice-manager"),values:e.cell_padding,onChange:e=>t({cell_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]})),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:n,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Cell Border","wc-invoice-manager"),onChange:e=>{t({cell_border:e})},value:e.cell_border})))}const D=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/invoice-data"}'),{name:$}=D,q={name:"wc-invoice-manager/invoice-data",version:"0.1.0",title:(0,u.__)("Invoice","wc-invoice-manager"),category:"design",icon:_,description:(0,u.__)("Block to show invoice items.","wc-invoice-manager"),textdomain:"wc-invoice-manager",edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(L,{...e}),(0,m.createElement)(z,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};function W({order:e,attributes:t,className:n}){const{billing:a}=e,r=(0,p.useBlockProps)({className:n,style:{textAlign:t.align}}),{recipient_name:o,company_name:l,address:c,country:i,city:s,state:d,postcode:g,email:_,phone:h,header:v,header_background:w,header_color:b,header_border:E,header_padding:C,cell_padding:k,cell_border:y}=t,f=N(C),B=H(E),x=!!s&&!!a.city||!!d&&!!a.state||!!g&&!!a.postcode,S=N(k),P=H(y);return(0,m.createElement)("table",{...r},!!v&&(0,m.createElement)("thead",{style:{color:b,backgroundColor:w}},(0,m.createElement)("th",{style:{...B,...f}},(0,u.__)("Billing data","wc-invoice-manager"))),(0,m.createElement)("tbody",null,!!o&&!!a.first_name&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a.first_name," ",a.last_name)),!!l&&!!a.company&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a.company)),!!c&&!!a.address_1&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a?.address_1," ",a?.address_2)),!!i&&!!a.country&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a?.country)),x&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},!!s&&a.city," ",!!d&&a.state," ",!!g&&a.postcode)),!!_&&!!a.email&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a?.email)),!!h&&!!a.phone&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...P,...S}},a?.phone))))}const Z=e=>{const{attributes:t,setAttributes:n}=e,{order:a}=(0,w.useSelectedOrder)(),{billing:r}=a,o=V("color.palette.theme");return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockAlignmentToolbar,{value:t.align,onChange:e=>n({align:e}),controls:["left","center","right"],isCollapsed:!1})),(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Elements","wc-invoice-manager")},(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show header","wc-invoice-manager"),checked:!!t.header,onChange:e=>n({header:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show recipient name","wc-invoice-manager"),checked:!!t.recipient_name,disabled:!r.first_name,onChange:e=>n({recipient_name:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show company name","wc-invoice-manager"),checked:!!t.company_name,disabled:!r.company,onChange:e=>n({company_name:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show address","wc-invoice-manager"),checked:!!t.address,disabled:!r.address_1,onChange:e=>n({address:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show country","wc-invoice-manager"),checked:!!t.country,disabled:!r.country,onChange:e=>n({country:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show city","wc-invoice-manager"),checked:!!t.city,disabled:!r.city,onChange:e=>n({city:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show state","wc-invoice-manager"),checked:!!t.state,disabled:!r.state,onChange:e=>n({state:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show postcode","wc-invoice-manager"),checked:!!t.postcode,disabled:!r.postcode,onChange:e=>n({postcode:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show email","wc-invoice-manager"),checked:!!t.email,disabled:!r.email,onChange:e=>n({email:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show phone","wc-invoice-manager"),checked:!!t.phone,disabled:!r.phone,onChange:e=>n({phone:e})})),!!t.header&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Header","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Header Padding","wp-invoice-manager"),values:t.header_padding,onChange:e=>n({header_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:o,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Header Border","wc-invoice-manager"),onChange:e=>{n({header_border:e})},value:t.header_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_background",label:(0,u.__)("Header background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:o,value:t.header_background,onChange:e=>n({header_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_color",label:(0,u.__)("Header Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:o,value:t.header_color,onChange:e=>n({header_color:e})})))),(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Cells","wc-invoice-manager")},(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Cell Padding","wp-invoice-manager"),values:t.cell_padding,onChange:e=>n({cell_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]})),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:o,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Cell Border","wc-invoice-manager"),onChange:e=>{n({cell_border:e})},value:t.cell_border}))))},G=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/order-billing-data"}'),{name:J}=G,j={name:"wc-invoice-manager/order-billing-data",version:"0.1.0",title:(0,u.__)("Billing Data","wc-invoice-manager"),category:"design",icon:_,keywords:[(0,u.__)("invoice","wc-invoice-manager"),(0,u.__)("billing","wc-invoice-manager"),(0,u.__)("order","wc-invoice-manager")],description:(0,u.__)("Block to show invoice billing data.","wc-invoice-manager"),edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(Z,{...e}),(0,m.createElement)(W,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};function U({order:e,attributes:t,className:n}){const a=(0,p.useBlockProps)({className:n,style:{textAlign:t.align}}),{shipping:r}=e,{recipient_name:o,company_name:l,address:c,country:i,city:s,state:d,postcode:g,phone:_,header:h,header_background:v,header_color:w,header_border:b,header_padding:E,cell_padding:C,cell_border:k}=t,y=N(E),f=H(b),B=N(C),x=H(k),S=!!s&&!!r.city||!!d&&!!r.state||!!g&&!!r.postcode;return(0,m.createElement)("table",{...a},!!h&&(0,m.createElement)("thead",{style:{color:w,backgroundColor:v}},(0,m.createElement)("th",{style:{...f,...y}},(0,u.__)("Shipping data","wc-invoice-manager"))),(0,m.createElement)("tbody",null,!!o&&!!r.first_name&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},r.first_name," ",r.last_name)),!!l&&!!r.company&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},r.company)),!!c&&!!r.address_1&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},r?.address_1," ",r?.address_2)),!!i&&!!r.country&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},r?.country)),S&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},!!s&&r.city," ",!!d&&r.state," ",!!g&&r.postcode)),!!_&&!!r.phone&&(0,m.createElement)("tr",null,(0,m.createElement)("td",{style:{...x,...B}},r?.phone))))}const K=({attributes:e,setAttributes:t})=>{const{order:n}=(0,w.useSelectedOrder)(),{shipping:a}=n,r=V("color.palette.theme");return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockAlignmentToolbar,{value:e.align,onChange:e=>t({align:e}),controls:["left","center","right"],isCollapsed:!1})),(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Elements","wc-invoice-manager")},(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show header","wc-invoice-manager"),checked:!!e.header,onChange:e=>t({header:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show recipient name","wc-invoice-manager"),checked:!!e.recipient_name,disabled:!a.first_name,onChange:e=>t({recipient_name:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show company name","wc-invoice-manager"),checked:!!e.company_name,disabled:!a.company,onChange:e=>t({company_name:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show address","wc-invoice-manager"),checked:!!e.address,disabled:!a.address_1,onChange:e=>t({address:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show country","wc-invoice-manager"),checked:!!e.country,disabled:!a.country,onChange:e=>t({country:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show city","wc-invoice-manager"),checked:!!e.city,disabled:!a.city,onChange:e=>t({city:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show state","wc-invoice-manager"),checked:!!e.state,disabled:!a.state,onChange:e=>t({state:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show postcode","wc-invoice-manager"),checked:!!e.postcode,disabled:!a.postcode,onChange:e=>t({postcode:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show phone","wc-invoice-manager"),checked:!!e.phone,disabled:!a.phone,onChange:e=>t({phone:e})})),!!e.header&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Header","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Header Padding","wp-invoice-manager"),values:e.header_padding,onChange:e=>t({header_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:r,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Header Border","wc-invoice-manager"),onChange:e=>{t({header_border:e})},value:e.header_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_background",label:(0,u.__)("Header background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:r,value:e.header_background,onChange:e=>t({header_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_color",label:(0,u.__)("Header Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.header_color,onChange:e=>t({header_color:e})})))),(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Cells","wc-invoice-manager")},(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Cell Padding","wp-invoice-manager"),values:e.cell_padding,onChange:e=>t({cell_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]})),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:r,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Cell Border","wc-invoice-manager"),onChange:e=>{t({cell_border:e})},value:e.cell_border}))))},Q=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/order-shipping-data"}'),{name:Y}=Q,X={name:"wc-invoice-manager/order-shipping-data",version:"0.1.0",title:(0,u.__)("Shipping Data","wc-invoice-manager"),category:"design",keywords:[(0,u.__)("invoice","wc-invoice-manager"),(0,u.__)("shipping","wc-invoice-manager"),(0,u.__)("order","wc-invoice-manager")],icon:_,description:(0,u.__)("Block to show invoice shipping data.","wc-invoice-manager"),edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(K,{...e}),(0,m.createElement)(U,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};function ee({order:e,className:t,attributes:n}){const a=(0,p.useBlockProps)({className:t});return(0,m.createElement)("p",{...a,style:{textAlign:n.align}},e.customer_note)}const te=({attributes:e,setAttributes:t})=>(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockAlignmentToolbar,{value:e.align,onChange:e=>t({align:e}),controls:["left","center","right"],isCollapsed:!1})),ne=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/order-customer-note"}'),{name:ae}=ne,re={name:"wc-invoice-manager/order-customer-note",version:"0.1.0",title:(0,u.__)("Order Customer Note","wc-invoice-manager"),category:"design",keywords:[(0,u.__)("invoice","wc-invoice-manager"),(0,u.__)("shipping","wc-invoice-manager"),(0,u.__)("order","wc-invoice-manager")],icon:_,description:(0,u.__)("Block to show invoice Order Customer Note.","wc-invoice-manager"),edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(te,{...e}),(0,m.createElement)(ee,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};function oe({order:e,attributes:t,context:n,className:a}){const r=(0,p.useBlockProps)({className:a,style:{textAlign:t.align}}),{column_num:o,column_image:l,column_sku:c,column_product:i,column_quantity:s,column_price:d,column_subtotal:g,column_total:_,column_taxes:h,free_products:v,footer:w,header:b,header_background:E,header_color:C,header_border:k,header_padding:y,cell_padding:f,cell_border:B,footer_color:x,footer_background:S,footer_padding:P,footer_border:I}=t,T=N(y),O=H(k),A=N(f),V=H(B),R=N(P),M=H(I),z="symbol"===n["invoice/currency"]?e.currency_symbol:e.currency,L=e?.line_items.reduce(((e,t)=>e+parseInt(t.quantity,10)),0),D=e?.line_items.reduce(((e,t)=>e+parseFloat(t.taxes)),0),$=e?.line_items.reduce(((e,t)=>e+parseFloat(t.subtotal)),0),q=e?.line_items.reduce(((e,t)=>e+parseFloat(t.total)),0);return(0,m.createElement)("table",{...r},!!b&&(0,m.createElement)("thead",{style:{color:C,backgroundColor:E}},(0,m.createElement)("tr",null,o&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Number","wc-invoice-manager")),l&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Image","wc-invoice-manager")),c&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("SKU","wc-invoice-manager")),i&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Product","wc-invoice-manager")),d&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Price","wc-invoice-manager")),s&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Quantity","wc-invoice-manager")),g&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Subtotal","wc-invoice-manager")),h&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Taxes","wc-invoice-manager")),_&&(0,m.createElement)("th",{style:{...O,...T}},(0,u.__)("Total","wc-invoice-manager")))),e?.line_items?(0,m.createElement)("tbody",null,e.line_items.map((e=>v||e?.total&&"0.00"!==e.total&&"0,00"!==e.total?(0,m.createElement)("tr",{key:e.product_id},o&&(0,m.createElement)("td",{style:{...V,...A}},e.product_id),(0,m.createElement)(m.Fragment,null,l&&(0,m.createElement)("td",{style:{...V,...A}},(0,m.createElement)("img",{src:e.image.src,width:"100",height:"100",alt:e.name})),c&&(0,m.createElement)("td",{style:{...V,...A}},e.sku),i&&(0,m.createElement)("td",{style:{...V,...A}},e.name),d&&(0,m.createElement)("td",{style:{...V,...A}},F(z,e.price)),s&&(0,m.createElement)("td",{style:{...V,...A}},e.quantity),g&&(0,m.createElement)("td",{style:{...V,...A}},F(z,e.subtotal)),h&&(0,m.createElement)("td",{style:{...V,...A}},F(z,e.taxes)),_&&(0,m.createElement)("td",{style:{...V,...A}},F(z,e.total)))):null))):(0,m.createElement)("tbody",null,(0,u.__)("Items not found","wc-invoice-manager")),!!w&&(0,m.createElement)("tfoot",{style:{color:x,backgroundColor:S}},(0,m.createElement)("tr",null,o&&(0,m.createElement)("td",{style:{...M,...R}}),l&&(0,m.createElement)("td",{style:{...M,...R}}),c&&(0,m.createElement)("td",{style:{...M,...R}}),i&&(0,m.createElement)("td",{style:{...M,...R}}),d&&(0,m.createElement)("td",{style:{...M,...R}}),s&&(0,m.createElement)("th",{style:{...M,...R}},L),g&&(0,m.createElement)("th",{style:{...M,...R}},F(z,$)),h&&(0,m.createElement)("th",{style:{...M,...R}},F(z,D)),_&&(0,m.createElement)("th",{style:{...M,...R}},F(z,q)))))}const le=({attributes:e,setAttributes:t})=>{const n=V("color.palette.theme");return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockAlignmentToolbar,{value:e.align,onChange:e=>t({align:e}),controls:["left","center","right"],isCollapsed:!1})),(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Elements","wc-invoice-manager")},(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show header","wc-invoice-manager"),checked:!!e.header,onChange:e=>t({header:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Free products","wc-invoice-manager"),checked:!!e.free_products,onChange:e=>t({free_products:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show number","wc-invoice-manager"),checked:!!e.column_num,onChange:e=>t({column_num:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show image","wc-invoice-manager"),checked:!!e.column_image,onChange:e=>t({column_image:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show SKU","wc-invoice-manager"),checked:!!e.column_sku,onChange:e=>t({column_sku:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show product","wc-invoice-manager"),checked:!!e.column_product,onChange:e=>t({column_product:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show quantity","wc-invoice-manager"),checked:!!e.column_quantity,onChange:e=>t({column_quantity:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show price","wc-invoice-manager"),checked:!!e.column_price,onChange:e=>t({column_price:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show tax","wc-invoice-manager"),checked:!!e.column_taxes,onChange:e=>t({column_taxes:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show subtotal","wc-invoice-manager"),checked:!!e.column_subtotal,onChange:e=>t({column_subtotal:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show total","wc-invoice-manager"),checked:!!e.column_total,onChange:e=>t({column_total:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show footer","wc-invoice-manager"),checked:!!e.footer,onChange:e=>t({footer:e})})),!!e.header&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Header","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Header Padding","wp-invoice-manager"),values:e.header_padding,onChange:e=>t({header_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:n,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Header Border","wc-invoice-manager"),onChange:e=>{t({header_border:e})},value:e.header_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_background",label:(0,u.__)("Header background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{colors:n,value:e.header_background,onChange:e=>t({header_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_color",label:(0,u.__)("Header Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.header_color,onChange:e=>t({header_color:e})})))),(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Cells","wc-invoice-manager")},(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Cell Padding","wp-invoice-manager"),values:e.cell_padding,onChange:e=>t({cell_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]})),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:n,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Cell Border","wc-invoice-manager"),onChange:e=>{t({cell_border:e})},value:e.cell_border})),!!e.footer&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Footer","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Footer Padding","wp-invoice-manager"),values:e.footer_padding,onChange:e=>t({footer_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,colors:n,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Footer Border","wc-invoice-manager"),onChange:e=>{t({footer_border:e})},value:e.footer_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"footer_background",label:(0,u.__)("Footer background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.footer_background,onChange:e=>t({footer_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"footer_color",label:(0,u.__)("Footer Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.footer_color,onChange:e=>t({footer_color:e})}))))))},ce=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/order-items"}'),{name:ie}=ce,se={name:"wc-invoice-manager/order-items",version:"0.1.0",title:(0,u.__)("Order Items","wc-invoice-manager"),category:"design",icon:_,keywords:[(0,u.__)("invoice","wc-invoice-manager"),(0,u.__)("items","wc-invoice-manager"),(0,u.__)("order","wc-invoice-manager")],description:(0,u.__)("Block to show invoice items.","wc-invoice-manager"),textdomain:"wc-invoice-manager",edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(le,{...e}),(0,m.createElement)(oe,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};function de({order:e,attributes:t,context:n,className:a}){const r=(0,p.useBlockProps)({className:a,style:{textAlign:t.align}}),{order_total_items:o,order_total_tax:l,order_total_discout:c,order_total_shipping:i,order_total:s,header:d,header_background:g,header_color:_,header_border:h,header_padding:v,cell_padding:w,cell_border:b}=t,E=N(v),C=H(h),k=N(w),y=H(b),f=e?.line_items.reduce(((e,t)=>e+parseFloat(t.subtotal)),0),B="symbol"===n["invoice/currency"]?e.currency_symbol:e.currency,x=F(B,e?.total),S=F(B,f),P=F(B,e?.total_tax),I=F(B,e?.discount_total),T=F(B,e?.shipping_total);return(0,m.createElement)("table",{...r},!!d&&(0,m.createElement)("thead",{style:{color:_,backgroundColor:g}},(0,m.createElement)("th",{colSpan:2,style:{...C,...E}},(0,u.__)("Totals","wc-invoice-manager"))),(0,m.createElement)("tbody",null,!!o&&(0,m.createElement)("tr",null,(0,m.createElement)("th",{style:{...y,...k}},(0,u.__)("Subtotal","wc-invoice-manager")),(0,m.createElement)("td",{style:{...y,...k}},S)),!!l&&(0,m.createElement)("tr",null,(0,m.createElement)("th",{style:{...y,...k}},(0,u.__)("Taxes","wc-invoice-manager")),(0,m.createElement)("td",{style:{...y,...k}},P)),!!c&&(0,m.createElement)("tr",null,(0,m.createElement)("th",{style:{...y,...k}},(0,u.__)("Discounts","wc-invoice-manager")),(0,m.createElement)("td",{style:{...y,...k}},I)),!!i&&(0,m.createElement)("tr",null,(0,m.createElement)("th",{style:{...y,...k}},(0,u.__)("Shipping","wc-invoice-manager")),(0,m.createElement)("td",{style:{...y,...k}},T)),!!s&&(0,m.createElement)("tr",null,(0,m.createElement)("th",{style:{...y,...k}},(0,u.__)("Total","wc-invoice-manager")),(0,m.createElement)("td",{style:{...y,...k}},x))))}const me=({attributes:e,setAttributes:t})=>(V("color.palette.theme"),(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockAlignmentToolbar,{value:e.align,onChange:e=>t({align:e}),controls:["left","center","right"],isCollapsed:!1})),(0,m.createElement)(p.InspectorControls,{key:"inspector"},(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Elements","wc-invoice-manager")},(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show header","wc-invoice-manager"),checked:!!e.header,onChange:e=>t({header:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show subtotals","wc-invoice-manager"),checked:!!e.order_total_items,onChange:e=>t({order_total_items:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show taxes","wc-invoice-manager"),checked:!!e.order_total_tax,onChange:e=>t({order_total_tax:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show discounts","wc-invoice-manager"),checked:!!e.order_total_discout,onChange:e=>t({order_total_discout:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show shipping","wc-invoice-manager"),checked:!!e.order_total_shipping,onChange:e=>t({order_total_shipping:e})}),(0,m.createElement)(B.ToggleControl,{label:(0,u.__)("Show total","wc-invoice-manager"),checked:!!e.order_total,onChange:e=>t({order_total:e})})),!!e.header&&(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Header","wc-invoice-manager")},(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Header Padding","wp-invoice-manager"),values:e.header_padding,onChange:e=>t({header_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]}),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Header Border","wc-invoice-manager"),onChange:e=>{t({header_border:e})},value:e.header_border}),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_background",label:(0,u.__)("Header background","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header background","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.header_background,onChange:e=>t({header_background:e})}))),(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.BaseControl,{id:"header_color",label:(0,u.__)("Header Color","wc-invoice-manager"),help:(0,u.__)("Color which is displayed on header text","wc-invoice-manager")},(0,m.createElement)(p.ColorPalette,{value:e.header_color,onChange:e=>t({header_color:e})})))),(0,m.createElement)(B.PanelBody,{title:(0,u.__)("Cells","wc-invoice-manager")},(0,m.createElement)(B.PanelRow,null,(0,m.createElement)(B.__experimentalBoxControl,{label:(0,u.__)("Cell Padding","wp-invoice-manager"),values:e.cell_padding,onChange:e=>t({cell_padding:e}),units:[{value:"px",label:"px",default:0},{value:"em",label:"em",step:.1,default:0}]})),(0,m.createElement)(B.__experimentalBorderBoxControl,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!0,popoverOffset:0,popoverPlacement:"right",label:(0,u.__)("Cell Border","wc-invoice-manager"),onChange:e=>{t({cell_border:e})},value:e.cell_border}))))),ue=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/order-totals"}'),{name:ge}=ue,_e={name:"wc-invoice-manager/order-totals",version:"0.1.0",title:(0,u.__)("Order Items Total","wc-invoice-manager"),category:"design",keywords:[(0,u.__)("invoice","wc-invoice-manager"),(0,u.__)("order","wc-invoice-manager")],icon:_,description:(0,u.__)("Block to show invoice order total data.","wc-invoice-manager"),edit:function(e){const{order:t}=(0,w.useSelectedOrder)();return t?(0,m.createElement)(m.Fragment,null,(0,m.createElement)(me,{...e}),(0,m.createElement)(de,{...e,order:t})):(0,m.createElement)("div",null,(0,u.__)("Loading…","wc-invoice-manager"))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)},pe=(0,m.createElement)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(g.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 7.5h-5v10h5v-10Zm1.5 0v10H19a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-2.5ZM6 7.5h2.5v10H6a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM6 6h13a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"})),he=window.lodash,ve=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function we(e,t){const{width:n=100/t}=e.attributes;return ve(n)}function be(e,t,n=e.length){const a=function(e,t=e.length){return e.reduce(((e,n)=>e+we(n,t)),0)}(e,n);return(0,he.mapValues)(function(e,t=e.length){return e.reduce(((e,n)=>{const a=we(n,t);return Object.assign(e,{[n.clientId]:a})}),{})}(e,n),(e=>ve(t*e/a)))}function Ee(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}const Ce=e=>{const{attributes:t,setAttributes:n,verticalAlignment:a,updateAlignment:r,updateColumns:o,clientId:l}=e,{count:c,canInsertColumnBlock:i}=(0,v.useSelect)((e=>({count:e(p.store).getBlockCount(l),canInsertColumnBlock:e(p.store).canInsertBlockType("wc-invoice-manager/column",l)})),[l]);return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockVerticalAlignmentToolbar,{onChange:r,value:a})),(0,m.createElement)(p.InspectorControls,null,(0,m.createElement)(B.PanelBody,null,i&&(0,m.createElement)(m.Fragment,null,(0,m.createElement)(B.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,u.__)("Columns","wc-invoice-manager"),value:c,onChange:e=>o(c,e),min:1,max:Math.max(6,c)}),c>6&&(0,m.createElement)(B.Notice,{status:"warning",isDismissible:!1},(0,u.__)("This column count exceeds the recommended amount and may cause visual breakage.","wc-invoice-manager"))),(0,m.createElement)(B.RangeControl,{label:(0,u.__)("spacing"),value:t.spacing,onChange:e=>n({spacing:e}),min:0,max:100}))))},ke=({attributes:e,classes:t,templateLock:n,ALLOWED_BLOCKS:a})=>{const r=(0,p.useBlockProps)({className:t,style:{borderSpacing:`${e.spacing}px 0`}}),o=(0,p.useInnerBlocksProps)({},{allowedBlocks:a,orientation:"horizontal",renderAppender:!1,templateLock:n});return(0,m.createElement)("table",{...r},(0,m.createElement)("tbody",null,(0,m.createElement)("tr",{...o})))},ye=["wc-invoice-manager/column"],fe=(0,v.withDispatch)(((e,t,n)=>({updateAlignment(a){const{clientId:r,setAttributes:o}=t,{updateBlockAttributes:l}=e(p.store),{getBlockOrder:c}=n.select(p.store);o({verticalAlignment:a}),c(r).forEach((e=>{l(e,{verticalAlignment:a})}))},updateColumns(a,r){const{clientId:o}=t,{replaceInnerBlocks:l}=e(p.store),{getBlocks:c}=n.select(p.store);let i=c(o);const s=i.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),m=r>a;if(m&&s){const e=ve(100/r);i=[...Ee(i,be(i,100-e)),...Array.from({length:r-a}).map((()=>(0,d.createBlock)("wc-invoice-manager/column",{width:`${e}%`})))]}else m?i=[...i,...Array.from({length:r-a}).map((()=>(0,d.createBlock)("wc-invoice-manager/column")))]:(i=i.slice(0,-(a-r)),s&&(i=Ee(i,be(i,100))));l(o,i)}})))((function({attributes:e,setAttributes:t,updateAlignment:n,updateColumns:a,clientId:r}){const{isStackedOnMobile:o,verticalAlignment:l,templateLock:c}=e,i=E()({[`are-vertically-aligned-${l}`]:l});return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(Ce,{attributes:e,setAttributes:t,verticalAlignment:l,updateAlignment:n,updateColumns:a,clientId:r}),(0,m.createElement)(ke,{attributes:e,classes:i,ALLOWED_BLOCKS:ye,templateLock:c}))}));function Be({clientId:e,name:t,setAttributes:n}){const{blockType:a,defaultVariation:r,variations:o}=(0,v.useSelect)((e=>{const{getBlockVariations:n,getBlockType:a,getDefaultBlockVariation:r}=e(d.store);return{blockType:a(t),defaultVariation:r(t,"block"),variations:n(t,"block")}}),[t]),{replaceInnerBlocks:l}=(0,v.useDispatch)(p.store),c=(0,p.useBlockProps)();return(0,m.createElement)("div",{...c},(0,m.createElement)(p.__experimentalBlockVariationPicker,{icon:a?.icon?.src,label:a?.title,variations:o,onSelect:(t=r)=>{t.attributes&&n(t.attributes),t.innerBlocks&&l(e,(0,d.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)},allowSkip:!0}))}const xe=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/columns"}'),Se=[{name:"one-column-full",title:(0,u.__)("100"),description:(0,u.__)("One column","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),innerBlocks:[["wc-invoice-manager/column"]],scope:["block"]},{name:"two-columns-equal",title:(0,u.__)("50 / 50"),description:(0,u.__)("Two columns; equal split","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z"})),isDefault:!0,innerBlocks:[["wc-invoice-manager/column"],["wc-invoice-manager/column"]],scope:["block"]},{name:"two-columns-one-third-two-thirds",title:(0,u.__)("33 / 66"),description:(0,u.__)("Two columns; one-third, two-thirds split","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z"})),innerBlocks:[["wc-invoice-manager/column",{width:"33.33%"}],["wc-invoice-manager/column",{width:"66.66%"}]],scope:["block"]},{name:"two-columns-two-thirds-one-third",title:(0,u.__)("66 / 33"),description:(0,u.__)("Two columns; two-thirds, one-third split","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z"})),innerBlocks:[["wc-invoice-manager/column",{width:"66.66%"}],["wc-invoice-manager/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-equal",title:(0,u.__)("33 / 33 / 33"),description:(0,u.__)("Three columns; equal split","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z"})),innerBlocks:[["wc-invoice-manager/column"],["wc-invoice-manager/column"],["wc-invoice-manager/column"]],scope:["block"]},{name:"three-columns-wider-center",title:(0,u.__)("25 / 50 / 25"),description:(0,u.__)("Three columns; wide center column","wc-invoice-manager"),icon:(0,m.createElement)(B.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(B.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),innerBlocks:[["wc-invoice-manager/column",{width:"25%"}],["wc-invoice-manager/column",{width:"50%"}],["wc-invoice-manager/column",{width:"25%"}]],scope:["block"]}],Pe={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert:e=>{const t=+(100/e.length).toFixed(2),n=e.map((({name:e,attributes:n,innerBlocks:a})=>["wc-invoice-manager/column",{width:`${t}%`},[[e,{...n},a]]]));return(0,d.createBlock)("wc-invoice-manager/columns",{},(0,d.createBlocksFromInnerBlocksTemplate)(n))},isMatch:({length:e},t)=>(1!==t.length||"wc-invoice-manager/columns"!==t[0].name)&&e&&e<=6},{type:"block",blocks:["core/media-text"],priority:1,transform:(e,t)=>{const{align:n,backgroundColor:a,textColor:r,style:o,mediaAlt:l,mediaId:c,mediaPosition:i,mediaSizeSlug:s,mediaType:m,mediaUrl:u,mediaWidth:g,verticalAlignment:_}=e;let p;p="image"!==m&&m?["core/video",{id:c,src:u}]:["core/image",{id:c,alt:l,url:u,sizeSlug:s,href:e.href,linkClass:e.linkClass,linkDestination:e.linkDestination,linkTarget:e.linkTarget,rel:e.rel}];const h=[["wc-invoice-manager/column",{width:`${g}%`},[p]],["wc-invoice-manager/column",{width:100-g+"%"},t]];return"right"===i&&h.reverse(),(0,d.createBlock)("wc-invoice-manager/columns",{align:n,backgroundColor:a,textColor:r,style:o,verticalAlignment:_},(0,d.createBlocksFromInnerBlocksTemplate)(h))}}],to:[{type:"block",blocks:["*"],transform:(e,t)=>t.flatMap((e=>e.innerBlocks))}]},{name:Ie}=xe,Te={name:"wc-invoice-manager/columns",version:"0.1.0",icon:pe,title:(0,u.__)("Columns","wc-invoice-manager"),category:"design",description:(0,u.__)("Display content in multiple columns, with blocks added to each column.","wc-invoice-manager"),variations:Se,transforms:Pe,example:{viewportWidth:600,innerBlocks:[{name:"wc-invoice-manager/column",innerBlocks:[{name:"core/paragraph",attributes:{content:(0,u.__)("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis.","wc-invoice-manager")}},{name:"core/image",attributes:{url:"https://s.w.org/images/core/5.3/Windbuchencom.jpg"}},{name:"core/paragraph",attributes:{content:(0,u.__)("Suspendisse commodo neque lacus, a dictum orci interdum et.","wc-invoice-manager")}}]},{name:"wc-invoice-manager/column",innerBlocks:[{name:"core/paragraph",attributes:{content:(0,u.__)("Etiam et egestas lorem. Vivamus sagittis sit amet dolor quis lobortis. Integer sed fermentum arcu, id vulputate lacus. Etiam fermentum sem eu quam hendrerit.","wc-invoice-manager")}},{name:"core/paragraph",attributes:{content:(0,u.__)("Nam risus massa, ullamcorper consectetur eros fermentum, porta aliquet ligula. Sed vel mauris nec enim.","wc-invoice-manager")}}]}]},edit:e=>{const{clientId:t}=e,n=(0,v.useSelect)((e=>e(p.store).getBlocks(t).length>0),[t])?fe:Be;return(0,m.createElement)(n,{...e})},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)},Oe=(0,m.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(g.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"})),Ae=e=>{const{setAttributes:t,verticalAlignment:n,width:a="",rootClientId:r}=e,o=(0,B.__experimentalUseCustomUnits)({availableUnits:V("spacing.units")||["%","px","em","rem","vw"]}),{updateBlockAttributes:l}=(0,v.useDispatch)(p.store);return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(p.BlockControls,null,(0,m.createElement)(p.BlockVerticalAlignmentToolbar,{onChange:e=>{t({verticalAlignment:e}),l(r,{verticalAlignment:null})},value:n})),(0,m.createElement)(p.InspectorControls,null,(0,m.createElement)(B.PanelBody,null,(0,m.createElement)(B.__experimentalUnitControl,{label:(0,u.__)("Width","wc-invoice-manager"),labelPosition:"edge",__unstableInputWidth:"80px",value:a,onChange:e=>{e=0>parseFloat(e)?"0":e,t({width:e})},units:o}))))},Ve=({blockProps:e,hasChildBlocks:t,templateLock:n,allowedBlocks:a,columnsIds:r,clientId:o,isSelected:l})=>{const c=r.length,i=r.indexOf(o)+1,s=(0,u.sprintf)((0,u.__)("%1$s (%2$d of %3$d)","wc-invoice-manager"),e["aria-label"],i,c),{isParentBlockSelected:d,innerBlocksCount:g}=(0,v.useSelect)((e=>{const{getBlockCount:t,getBlockRootClientId:n,isBlockSelected:a}=e(p.store),r=a(n(o));return{innerBlocksCount:t(o),isParentBlockSelected:r}}),[o]),_=(0,p.useInnerBlocksProps)({...e,"aria-label":s},{templateLock:n,allowedBlocks:a,renderAppender:t?void 0:(l||d||!g)&&p.InnerBlocks.ButtonBlockAppender});return(0,m.createElement)("td",{..._})},He=JSON.parse('{"apiVersion":2,"name":"wc-invoice-manager/column"}'),{name:Ne}=He,Re={name:"wc-invoice-manager/column",icon:Oe,version:"0.1.0",title:(0,u.__)("Column","wc-invoice-manager"),category:"design",parent:["wc-invoice-manager/columns"],description:(0,u.__)("A single column within a columns block.","wc-invoice-manager"),edit:function(e){const{attributes:{verticalAlignment:t,width:n,templateLock:a,allowedBlocks:r},setAttributes:o,clientId:l}=e,c=E()({[`is-vertically-aligned-${t}`]:t}),{columnsIds:i,hasChildBlocks:s,rootClientId:d}=(0,v.useSelect)((e=>{const{getBlockOrder:t,getBlockRootClientId:n}=e(p.store),a=n(l);return{hasChildBlocks:t(l).length>0,rootClientId:a,columnsIds:t(a)}}),[l]),u=Number.isFinite(n)?`${n}%`:n,g=(0,p.useBlockProps)({className:c,style:u?{width:u}:void 0});return(0,m.createElement)(m.Fragment,null,(0,m.createElement)(Ae,{setAttributes:o,width:n,verticalAlignment:t,rootClientId:d}),(0,m.createElement)(Ve,{...e,blockProps:g,hasChildBlocks:s,templateLock:a,allowedBlocks:r,columnsIds:i}))},save:()=>(0,m.createElement)(p.InnerBlocks.Content,null)};(0,d.registerBlockCollection)("wc-invoice-manager",{title:"WooCommerce Invoice Manager",icon:"store"}),[e,t,a,r,o,l,c,i,s].forEach((e=>{if(!e)return;const{metadata:t,settings:n,name:a}=e;(0,d.registerBlockType)({name:a,...t},n)}));const Fe=window.wp.compose,Me=({className:e,label:t,children:n,isOpen:a,setIsOpen:r})=>{const o=(0,h.useRef)(null),l=(0,h.useRef)(null);return(0,h.useEffect)((()=>{function e(e){e.target===l?.current||l?.current.contains(e.target)||e.target===o?.current||o?.current.contains(e.target)||r(!1)}return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[a]),(0,m.createElement)("div",{ref:l,className:E()("wpcp__app__dropdown",`${e}`)},(0,m.createElement)("div",{className:E()("wpcp__app__dropdown__current",`${e}_current`),onClick:e=>{e.preventDefault(),e.stopPropagation(),r(!a)},"aria-haspopup":"true","aria-expanded":a},t,(0,m.createElement)("span",{className:"dashicons dashicons-arrow-"+(a?"up":"down")})),(0,m.createElement)("div",null,a&&(0,m.createElement)(B.Popover,{ref:o,className:E()("wpcp__app__dropdown__popover",`${e}__popover`)},(0,m.createElement)("div",{className:E()("wpcp__app__dropdown__dropdown",`${e}__dropdown`)},n))))},ze=({id:e,setId:t,orders:n})=>{const[a,r]=(0,h.useState)(!1),[o,l]=(0,h.useState)(""),[c,i]=(0,h.useState)(o),s=(0,Fe.useDebounce)((e=>{i(e)}),300),d=(0,h.useCallback)((e=>t=>{t.preventDefault(),r(e)}),[]);(0,h.useEffect)((()=>{s(o)}),[o,s]);const g=(0,h.useMemo)((()=>n.filter((e=>e.id.toString().includes(c))).slice(0,10)),[n,c]);(0,h.useEffect)((()=>{-1===n.findIndex((t=>t.id===parseInt(e,10)))&&e&&(alert((0,u.sprintf)((0,u.__)("The order %s is not found.","wc-invoice-manager"),e)),t(0))}),[e,n,t]);const _=n?.find((t=>t.id===parseInt(e,10)));return(0,m.createElement)(Me,{isOpen:a,setIsOpen:r,label:R(_),className:"wpcp__app__search-orders"},(0,m.createElement)(B.SearchControl,{placeholder:(0,u.__)("Search by order ID.","wc-invoice-manager"),size:"compact",value:o,onChange:e=>{l(e)},"aria-label":(0,u.__)("Search Orders","wc-invoice-manager")}),g.length>0?g.map((n=>(0,m.createElement)("div",{key:n.id,className:E()("wpcp__app__search-orders__dropdown__option",n.id===e&&"wpcp__app__search-orders__dropdown__option--selected"),onClick:()=>t(n.id),onDoubleClick:d(!1),role:"button",tabIndex:"0"},R(n)))):(0,m.createElement)("div",{className:"wpcp__app__search-orders__dropdown__option"},(0,u.__)("No results match.","wc-invoice-manager")))},Le=window.wp.hooks,De="wc-invoice-manager/invoice",$e=(0,Fe.createHigherOrderComponent)((e=>t=>{const{clientId:n,name:a}=t,{replaceInnerBlocks:r,removeBlocks:o}=(0,v.useDispatch)(p.store),{parentBlockName:l,invoiceBlock:c,blockToMove:i}=(0,v.useSelect)((e=>{const{getBlockName:t,getBlockParents:a,getBlocks:r,getBlocksByClientId:o}=e(p.store),l=r().filter((e=>e.name===De)),c=a(n),i=c.length>0?t(c[0]):null,s=o(n)[0];return{parentBlockName:i,invoiceBlock:l[0],blockToMove:s}}),[n]);return a!==De&&l!==De&&c&&i&&c.clientId!==n&&(r(c.clientId,[...c.innerBlocks,i],!1),o(n)),(0,m.createElement)(e,{...t})}),"withParentCheck");(0,Le.addFilter)("editor.BlockEdit","wc-invoice-manager/with-parent-check",$e);const qe=(0,Fe.createHigherOrderComponent)((e=>t=>{const{setAttributes:n}=t;var a;if(a=t?.attributes?.style?.typography?.fontWeight,Number.isFinite(parseFloat(a))&&!isNaN(a)){const e=parseInt(t.attributes.style.typography.fontWeight);if(![400,700].includes(e)){const a=function(e){if("string"==typeof e&&e.includes(" ")){const t=e.split(" ").map(Number);return Math.max(...t)>500?"700":"400"}return parseInt(e,10)>500?"700":"400"}(e);n({style:{...t.attributes.style,typography:{...t.attributes.style.typography,fontWeight:a}}})}}return(0,m.createElement)(e,{...t})}),"withFontWeightCheck");(0,Le.addFilter)("editor.BlockEdit","wc-invoice-manager/blocks",qe);const We=()=>{const[e,t]=(0,h.useState)(!1),{updateBlockAttributes:n,selectBlock:a}=(0,v.useDispatch)(p.store),{clientId:r,attributes:o}=(0,v.useSelect)((e=>{const{getBlocks:t}=e(p.store),n=t().filter((e=>e.name===De));return{clientId:n[0].clientId,attributes:n[0].attributes}}),[]);(0,h.useEffect)((()=>{e&&a(r,null)}),[e,r]);const l=e=>{n(r,e)};return(0,m.createElement)(Me,{isOpen:e,setIsOpen:t,label:(0,u.__)("Invoice","wc-invoice-manager"),className:"wpcp__app__invoice"},(0,m.createElement)(B.PanelBody,{initialOpen:!0,title:!1},(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Paper Size","wp-invoice-manager"),value:o.size,onChange:e=>l({size:e}),options:S.size}),(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Paper Orientation","wp-invoice-manager"),value:o.orientation,onChange:e=>l({orientation:e}),options:S.orientation}),(0,m.createElement)(B.SelectControl,{label:(0,u.__)("Order Currency","wp-invoice-manager"),value:o.currency,onChange:e=>l({currency:e}),options:x.currency})))},Ze=(0,m.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 125",xmlSpace:"preserve"},(0,m.createElement)(B.G,null,(0,m.createElement)(B.Path,{d:"M85.7,26.2L64.7,5.1c-1.7-1.7-3.9-2.6-6.3-2.6l-37.8,0c0,0,0,0,0,0c-2.4,0-4.6,0.9-6.3,2.6c-1.7,1.7-2.6,3.9-2.6,6.3     v77.1c0,4.9,4,8.9,8.9,8.9h58.9c4.9,0,8.9-4,8.9-8.9V32.5C88.4,30.1,87.4,27.9,85.7,26.2z M61.5,13l16.4,16.4H63.2     c-1,0-1.7-0.8-1.7-1.7V13z M80.6,88.6c0,0.6-0.5,1.1-1.1,1.1H20.6c-0.6,0-1.1-0.5-1.1-1.1V11.4c0-0.4,0.2-0.7,0.3-0.8     c0.2-0.2,0.4-0.3,0.8-0.3l33.1,0v17.4c0,5.3,4.3,9.5,9.5,9.5h17.3V88.6z"}),(0,m.createElement)(B.Path,{d:"M53,58.5c-1-1.1-2.1-2.6-3.1-4.4c2.2-7.5,2.5-12.7,0.7-15.3c-0.9-1.4-2.4-2.1-4.1-2.1c-2,0-3.6,0.9-4.3,2.7     c-1.5,3.5,0.8,9.9,3.5,15.1c-0.7,2.4-1.7,5.1-2.9,8v0c-0.6,1.6-1.4,3.2-2.2,4.7c-6,2.3-12.6,5.8-13.4,10     c-0.3,1.6,0.2,3.1,1.6,4.2c0.8,0.7,1.7,1,2.7,1c0.4,0,0.8-0.1,1.2-0.2c3.7-0.9,7.6-6.4,10.6-11.8c1.7-0.6,3.7-1.3,5.8-1.9     c2.5-0.7,4.8-1.3,6.8-1.7c3.7,3,7,4.6,9.8,4.6c2,0.1,3.8-0.7,5.2-2.2c2.2-2.2,1.3-4.2,1-4.8c-1.6-2.7-7-3.3-14.9-1.8     C55.8,61.4,54.4,60,53,58.5z M31.8,78.4c-0.3,0.1-0.4,0-0.7-0.5c0.2-1,2.1-2.9,6.2-4.9C35.2,76,33.2,78.1,31.8,78.4z M45.7,41     c0.1-0.2,0.1-0.3,0.7-0.3c0.6,0,0.8,0.2,0.9,0.4c0.7,1,0.7,3.6-0.1,7.7C45.9,45.4,45.1,42.3,45.7,41z M48.1,64.7     c-0.7,0.2-1.5,0.4-2.3,0.7c0.2-0.5,0.4-1,0.6-1.4v0c0.7-1.8,1.4-3.5,1.9-5.1c0.6,0.9,1.3,1.7,1.8,2.3c0.8,0.8,1.6,1.6,2.3,2.4     C51.1,63.9,49.6,64.3,48.1,64.7z M68.3,66.4c-0.5,0.9-1.3,1-2.4,1c-1.2,0-2.8-0.6-4.5-1.6C66.3,65.3,68.8,65.5,68.3,66.4z"}))),Ge=()=>{const[e,t]=(0,h.useState)(!0),[n,a]=(0,h.useState)(!1);return(0,h.useEffect)((()=>{setTimeout((()=>{const t=document.querySelector("iframe[name=editor-canvas]");let n=document.documentElement,a=document.querySelector(".editor-styles-wrapper");if(t){const e=t.contentDocument||t.contentWindow.document;a=e.querySelector(".editor-styles-wrapper"),n=e.documentElement,n.style.overflow="auto"}if(a){const t="wcim__invoice__view__"+(e?"html":"pdf");a.classList.remove(t);const n="wcim__invoice__view__"+(e?"pdf":"html");a.classList.add(n)}}),500)}),[e]),(0,m.createElement)(B.Tooltip,{text:(0,u.__)("PDF Preview","wc-invoice-manager"),placement:"bottom"},(0,m.createElement)(B.Button,{hasIcon:!0,className:E()("wpcp__app__toggle-pdf",e&&"is-active",n&&"is-hover"),onClick:()=>t(!e),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},Ze))};function Je(){const{id:e,setId:t}=(0,w.useSelectedOrder)(),{orders:n,isResolvingOrders:a,hasOrders:r}=(0,w.useOrdersStore)();return a||!r?(0,m.createElement)(B.Spinner,null):(0,m.createElement)(m.Fragment,null,(0,m.createElement)(ze,{id:e,setId:t,orders:n,isResolvingOrders:a,hasOrders:r}),(0,m.createElement)(We,{id:e,setId:t,orders:n,isResolvingOrders:a,hasOrders:r}),(0,m.createElement)(Ge,null))}var je;je=()=>(()=>{let e=null;const t=(0,v.subscribe)((()=>{const n=!!wp?.editSite||!!wp?.editor;let a=document.querySelector(".edit-post-header-toolbar");if(n&&!a&&(a=document.querySelector(".edit-site-header__toolbar__left")),!a)return;const r=document.createElement("div");r.classList.add("wcim__app__insert"),a.querySelector(".wcim__app__insert")||((0,h.render)((0,m.createElement)(Je,null),r),a.appendChild(r)),e&&clearTimeout(e),e=setTimeout((()=>{document.querySelector(".wcim__app__insert")&&document.querySelector(".edit-site-document-actions__title-wrapper")&&t()}),50)}))})(),/comp|inter|loaded/.test(document.readyState)?je():document.addEventListener("DOMContentLoaded",je,!1)})()})();